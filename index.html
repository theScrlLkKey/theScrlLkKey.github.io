<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>decky's corner</title>
  <!--  favicons-->
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicon-16x16.png">
  <link rel="manifest" href="/assets/img/site.webmanifest">
  <link rel="mask-icon" href="/assets/img/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="/assets/img/favicon.ico">
  <meta name="msapplication-TileColor" content="#603cba">
  <meta name="msapplication-config" content="/assets/img/browserconfig.xml">
  <meta name="theme-color" content="#1e143d">
  <!-- load bootstrap css -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  <!--  load google fonts-->
  <style>
  @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono&display=swap');
    body {
      font-family: 'IBM Plex Mono', monospace;
      font-weight: 400;
      font-style: regular;
    }
  </style>

</head>
<!-- todo: utc offset, random stuff, me in other places, other SMs, website stats: uptime, total visitors - plain html version, maybe web1.0, make responsive on mobile-->
<!--        <div class="col text-bg-dark rounded-1" style="border: 2px solid #4324ad">-->
<!--          3 of 3-->
<!--        </div>-->

<body class="text-bg-dark">

<nav class="navbar d-flex flex-wrap justify-content-center" style="background-color:#1e143d;">
  <a class="d-flex align-items-center text-light text-decoration-none ms-3 me-md-auto">
    <img src="assets/img/icon_full.png" class="bi me-2" width="32" height="32">
    <span class="fs-4">decky's corner</span>
  </a>
  <ul class="nav nav-pills">
    <li class="nav-item"><a href="https://decky-e.tumblr.com/" class="nav-link">tumblr</a></li>
    <li class="nav-item"><a href="https://mstdn.social/@decky_e" class="nav-link">mastodon (@decky_e@mstdn.social)</a></li>
    <li class="nav-item"><a href="" class="nav-link">twitter (removed; elon sucks)</a></li>
    <li class="nav-item"><a href="https://www.github.com/theScrlLkKey" class="nav-link">github</a></li>
  </ul>
</nav>

<main>
  <div class="container-md-fluid py-4 pt-5 ms-4 me-4">

    <div class="container-fluid d-grid gap-5">

      <div class="row gap-5">
        <div class="col text-bg-dark rounded-1" style="border: 2px solid #4324ad">
          <h3 class="fw-bold">welcome to my page</h3>
          <p>hi. im decky. i do stuff, sometimes.</p>
          <p>i also exist as theScrlLkKey occasionally. </p>
        </div>
      </div>
      <div class="row gap-5">
        <div class="col text-bg-dark rounded-1" style="border: 2px solid #4324ad">
          <h3 class="fw-bold fs-5">stuff about me</h3>
          <p>i am very cool</p>
          <p>i am in utc-08 (utc-07 during dst)</p>
        </div>
        <div class="col text-bg-dark rounded-1" style="border: 2px solid #4324ad">
          <h3 class="fw-bold fs-5">wiki</h3>
          <p>here's my wiki, containing various bits of my knowledge</p>
          <a href="https://decky-e.ddns.net/doku.php?id=start">wiki</a>
        </div>
      </div>
      <div class="row gap-5">
        <div class="col text-bg-dark rounded-1" style="border: 2px solid #4324ad">
          <h3 class="fw-bold fs-5 text-center">interesting things</h3>
          <p>i am very tired</p>
          <p>i am bad at making websites</p>
        </div>
        <div class="col text-bg-dark rounded-1" style="border: 2px solid #4324ad">
          <h3 class="fw-bold fs-5 text-center">stats</h3>
          <p>connection speed: <span class="ct"></span></p>
          <!-- download speed -->
          <script>
            var imageAddr = "https://thescrllkkey.github.io/assets/img/icon_full.png";
            var downloadSize = 80276; //bytes

            function ShowProgressMessage(msg) {
                elm = document.querySelector('.ct')
                if (console) {
                    if (typeof msg == "string") {


                        elm.innerHTML = "..."
                    } else {
                        for (var i = 0; i < msg.length; i++) {

                            speed = msg[i]
                            color = ""
                            if (speed <= 1) {
                                color = "color: rgb(238, 108, 108);"
                            } else if (speed <= 2) {
                                color = "color: rgb(238, 164, 108);"
                            } else if (speed <= 3) {
                                color = "color: rgb(238, 236, 108);"
                            } else if (speed <= 4) {
                                color = "color: rgb(173, 238, 108);"
                            } else if (speed <= 5) {
                                color = "color: rgb(119, 238, 108);"
                            } else if (speed <= 6) {
                                color = "color: rgb(108, 238, 231);"
                            } else if (speed <= 7) {
                                color = "color: rgb(108, 149, 238);"
                            } else if (speed <= 8) {
                                color = "color: rgb(151, 108, 238);"
                            } else if (speed <= 9) {
                                color = "color: rgb(214, 108, 238);"
                            } else {
                                color = "color: rgb(238, 108, 205);"
                            }

                            elm.innerHTML = "<span style='" + color + "'>" + speed + " mb/s</span>"
                        }
                    }
                }

                var oProgress = document.getElementById("progress");
                if (oProgress) {
                    var actualHTML = (typeof msg == "string") ? msg : msg.join("<br />");
                    oProgress.innerHTML = actualHTML;
                }
            }

            function InitiateSpeedDetection() {
                ShowProgressMessage("Loading the image, please wait...");
                window.setTimeout(MeasureConnectionSpeed, 1);
            };

            if (window.addEventListener) {
                window.addEventListener('load', InitiateSpeedDetection, false);
            } else if (window.attachEvent) {
                window.attachEvent('onload', InitiateSpeedDetection);
            }

            function MeasureConnectionSpeed() {
                var startTime, endTime;
                var download = new Image();
                download.onload = function () {
                    endTime = (new Date()).getTime();
                    showResults();
                }

                download.onerror = function (err, msg) {
                    ShowProgressMessage("Invalid image, or error downloading");
                }

                startTime = (new Date()).getTime();
                var cacheBuster = "?nnn=" + startTime;
                download.src = imageAddr + cacheBuster;

                function showResults() {
                    var duration = (endTime - startTime) / 1000;
                    var bitsLoaded = downloadSize * 8;
                    var speedBps = (bitsLoaded / duration).toFixed(2);
                    var speedKbps = (speedBps / 1024).toFixed(2);
                    var speedMbps = (speedKbps / 1024).toFixed(2);
                    ShowProgressMessage([
                        speedMbps
                    ]);
                }
            }
          </script>
          <p><span id="ip"></span></p>
          <!-- ip -->
          <script>
            const ip_elm = document.querySelector('#ip');
            // Make the request
            fetch('https://api.ipify.org?format=json')
              // Extract JSON body content from HTTP response
              .then(response => response.json())
              // Do something with the JSON data
              .then(data => {
                const ip_ret = JSON.parse(JSON.stringify(data, null, 2))
                ip_elm.innerHTML = 'your ip: ' + ip_ret.ip
              });
          </script>
        </div>
        <div class="col text-bg-dark rounded-1" style="border: 2px solid #4324ad">
          <h3 class="fw-bold fs-5 text-center">something</h3>
          <p>javascript nonsense</p>
          <p>your utc offset is: utc<span id="tz"></span></p>
          <script>
            const tz = document.querySelector('#tz');
            tz.innerHTML = Date().toString().match(/([-\+][0-9]+)\s/)[1];
          </script>
        </div>
      </div>

    </div>

  </div>

<footer class="pt-3 mt-4 text-muted" style="border-top: 2px solid #1e143d">
  <p class="ms-3 me-md-auto">DeckyE - updated 2023 - using Google Fonts, and Bootstrap 5.2 - toggle colors > <a id="c_toggle">█</a></p>
<!-- invert -->
  <script>
      const c_toggle = document.querySelector('#c_toggle');
      c_toggle.onclick = () => {
          if (c_toggle.innerHTML == "█") {
              c_toggle.innerHTML = "▮";
              document.querySelector('html').style.filter = 'invert(100%)';
          } else {
              c_toggle.innerHTML = "█";
              document.querySelector('html').style.filter = 'invert(0%)';
          }
      }
  </script>

</footer>
</main>

</body>
</html>
